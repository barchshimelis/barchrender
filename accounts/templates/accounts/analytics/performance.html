{% extends "accounts/analytics/analytics_base.html" %}
{% load i18n static %}

{% block analytics_content %}
<style>
.analytics-header h1 {
    background: linear-gradient(135deg, #8b5cf6, #a78bfa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.metric-value {
    color: #8b5cf6;
}
</style>

<div class="analytics-grid">
    <!-- Response Time -->
    <div class="analytics-card">
        <h3>âš¡ Avg Response Time</h3>
        <div class="metric-value">{{ system_performance.avg_response_time }}ms</div>
        <div class="metric-label">Server Response</div>
    </div>

    <!-- Uptime -->
    <div class="analytics-card">
        <h3>ðŸŸ¢ System Uptime</h3>
        <div class="metric-value">{{ system_performance.uptime }}%</div>
        <div class="metric-label">Last 30 Days</div>
    </div>

    <!-- CPU Usage -->
    <div class="analytics-card">
        <h3>ðŸ’» CPU Usage</h3>
        <div class="metric-value">{{ system_performance.cpu_usage }}%</div>
        <div class="metric-label">Current Load</div>
    </div>

    <!-- Performance Chart -->
    <div class="analytics-card" style="grid-column: span 2;">
        <h3>ðŸ“Š System Performance</h3>
        <div class="chart-container">
            <canvas id="performanceChart"></canvas>
        </div>
    </div>
</div>

<script>
// Performance Chart
new Chart(document.getElementById('performanceChart'), {
    type: 'line',
    data: {
        labels: ['00:00', '04:00', '08:00', '12:00', '16:00', '20:00'],
        datasets: [{
            label: 'Response Time (ms)',
            data: [120, 115, 125, 130, 118, 110],
            borderColor: '#8b5cf6',
            backgroundColor: 'rgba(139, 92, 246, 0.1)',
            tension: 0.4,
        }]
    },
    options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
            legend: { 
                display: true,
                labels: {
                    color: '#e2e8f0',
                    font: { size: 12 }
                }
            },
            tooltip: {
                backgroundColor: 'rgba(15, 23, 42, 0.9)',
                titleColor: '#f1f5f9',
                bodyColor: '#cbd5e1',
                borderColor: 'rgba(255, 255, 255, 0.1)',
                borderWidth: 1
            }
        },
        scales: {
            x: {
                grid: {
                    color: 'rgba(255, 255, 255, 0.1)',
                    borderColor: 'rgba(255, 255, 255, 0.2)'
                },
                ticks: { color: '#cbd5e1' }
            },
            y: { 
                beginAtZero: true,
                grid: {
                    color: 'rgba(255, 255, 255, 0.1)',
                    borderColor: 'rgba(255, 255, 255, 0.2)'
                },
                ticks: { color: '#cbd5e1' }
            }
        }
    }
});
</script>
{% endblock %}
